{
  "FavoriteList": {
    "pageNumber": "350",
    "title": "My Directory",
    "init": [
      ".SignInCheck",
      "..listData.get",
      {
        "if": [
          "=..listData.favoriteList.doc.0",
          "continue",
          {
            "=.builtIn.checkField": {
              "dataIn": {
                "contentType": "messageHidden",
                "wait": 100
              }
            }
          }
        ]
      }
    ],
    "save": [
      {
        "=.FavoriteList.contactInfo.docAPI.store": ""
      }
    ],
    "searchData": {
      "searchContact": ""
    },
    "listData": {
      "favoriteList": {
        "doc": {
          "name": {
            "data": {
              "firstName": "Test",
              "isFavorite": true
            }
          }
        }
      },
      "get": {
        ".DocAPI.get": "",
        "api": "rd",
        "dataKey": "listData.favoriteList",
        "ids": [
          ".Global.rootNotebookID"
        ],
        "type": ".DocType.ContactFav",
        "xfname": "eid",
        "maxcount": "500",
        "obfname": "mtime",
        "_nonce": "=.Global._nonce"
      }
    },
    "contactInfo": {
      "document": {
        "_nonce": "=.Global._nonce"
      },
      "docAPI": {
        ".DocAPI": "",
        "store": {
          "api": "cd",
          "dataKey": "FavoriteList.contactInfo.document"
        }
      }
    },
    "generalInfo": {
      "value": true
    },
    "components": [
      {
        "type": "view",
        "style": {
          "top": "0",
          "left": "0",
          "width": "1",
          "height": "1"
        },
        "children": [
          {
            ".BaseHeader3": null
          },
          {
            ".HeaderLeftButton": null,
            "onClick": [
              {
                "goto": "MeetingRoomCreate"
              }
            ]
          },
          {
            ".HeaderRightImg": null,
            "path": "sideNav2.png",
            "onClick": [
              {
                "goto": "SideMenuBar"
              }
            ]
          },
          {
            ".SubMenuView": null,
            "style": {
              "top": "0.09",
              "backgroundColor": "0x388ecc",
              "height": "0.1",
              "zIndex": "10"
            },
            "children": [
              {
                ".SubMenuButton": null,
                "text": "Favorites",
                "style": {
                  "top": "0.03",
                  "color": "0xffffffff"
                },
                "onClick": [
                  {
                    "goto": "FavoriteList"
                  }
                ]
              },
              {
                ".SubMenuButton": null,
                "text": "Recents",
                "style": {
                  "top": "0.03",
                  "left": "0.33"
                },
                "onClick": [
                  {
                    "goto": "RecentList"
                  }
                ]
              },
              {
                ".SubMenuButton": null,
                "text": "Contacts",
                "style": {
                  "top": "0.03",
                  "left": "0.66"
                },
                "onClick": [
                  {
                    "goto": "ContactsList"
                  }
                ]
              }
            ]
          },
          {
            "type": "view",
            "style": {
              "top": "0.2",
              "left": "0",
              "width": "1",
              "height": "0.09"
            },
            "children": [
              {
                "type": "view",
                "style": {
                  "top": "0",
                  "left": "0.04",
                  "width": "1",
                  "height": "0.05"
                },
                "children": [
                  {
                    ".SearchField": null,
                    "placeHolder": "search contacts",
                    "style": {
                      "left": "0.1",
                      "top": "0.01"
                    }
                  },
                  {
                    ".SearchDoc": null,
                    "style": {
                      "left": "0.75",
                      "top": "0.011"
                    }
                  },
                  {
                    "type": "image",
                    "path": "add.png",
                    "onClick": [
                      {
                        "goto": "AddContact"
                      }
                    ],
                    "style": {
                      "top": "0.012",
                      "left": "0",
                      "height": "0.03"
                    }
                  },
                  {
                    "type": "label",
                    "contentType": "messageHidden",
                    "text": "No favorited contacts to show",
                    "style": {
                      "left": "0.1",
                      "top": "0.05",
                      "width": "0.72",
                      "height": "0.04",
                      "color": "0x000058",
                      "fontSize": "16",
                      "isHidden": "true",
                      "border": {
                        "style": "1"
                      },
                      "display": "inline",
                      "textAlign": {
                        "x": "center",
                        "y": "center"
                      }
                    }
                  }
                ]
              }
            ]
          },
          {
            "type": "view",
            "style": {
              "top": "0.25",
              "left": "0.05",
              "width": "0.9",
              "height": "0.6"
            },
            "children": [
              {
                "type": "list",
                "contentType": "listObject",
                "listObject": "..listData.favoriteList.doc",
                "iteratorVar": "itemObject",
                "style": {
                  "top": "0",
                  "left": "0",
                  "width": "0.9",
                  "height": "0.7"
                },
                "children": [
                  {
                    "type": "listItem",
                    "itemObject": "",
                    "style": {
                      "left": "0",
                      "top": "0",
                      "width": "0.9",
                      "height": "0.1",
                      "border": {
                        "style": "2"
                      },
                      "borderWidth": "1",
                      "borderColor": "0x00000011"
                    },
                    "children": [
                      {
                        "type": "image",
                        "viewTag": "select",
                        "style": {
                          "top": "0.03",
                          "left": "0",
                          "height": "0.04"
                        },
                        "onClick": [
                          {
                            "actionType": "updateObject",
                            "dataKey": "FavoriteList.contactInfo.document",
                            "dataObject": "itemObject"
                          },
                          {
                            "emit": {
                              "dataKey": {
                                "var": "itemObject"
                              },
                              "actions": [
                                {
                                  "if": [
                                    {
                                      "=.builtIn.string.equal": {
                                        "dataIn": {
                                          "string1": "=..generalInfo.value",
                                          "string2": "$var.name.data.isFavorite"
                                        }
                                      }
                                    },
                                    {
                                      "=.builtIn.object.set": {
                                        "dataIn": {
                                          "object": "$var",
                                          "key": "name.data.isFavorite",
                                          "value": false
                                        }
                                      }
                                    },
                                    {
                                      "=.builtIn.object.set": {
                                        "dataIn": {
                                          "object": "$var",
                                          "key": "name.data.isFavorite",
                                          "value": true
                                        }
                                      }
                                    }
                                  ]
                                }
                              ]
                            }
                          },
                          {
                            "actionType": "evalObject",
                            "object": [
                              {
                                "if": [
                                  "=.FavoriteList.contactInfo.document.name.data.isFavorite",
                                  {
                                    ".FavoriteList.contactInfo.document.type@": "=.DocType.ContactFav"
                                  },
                                  {
                                    ".FavoriteList.contactInfo.document.type@": "=.DocType.Contact"
                                  }
                                ]
                              },
                              {
                                ".Global._nonce@": {
                                  "=.builtIn.math.random": ""
                                }
                              },
                              {
                                ".FavoriteList.contactInfo.document._nonce@": {
                                  "=.builtIn.math.random": ""
                                }
                              }
                            ]
                          },
                          {
                            "actionType": "builtIn",
                            "funcName": "redraw",
                            "viewTag": "select"
                          },
                          {
                            "actionType": "evalObject",
                            "object": "..save"
                          },
                          {
                            "actionType": "evalObject",
                            "object": {
                              ".Global._nonce@": {
                                "=.builtIn.math.random": ""
                              }
                            }
                          }
                        ],
                        "path": {
                          "emit": {
                            "dataKey": {
                              "var": "itemObject"
                            },
                            "actions": [
                              {
                                "if": [
                                  {
                                    "=.builtIn.string.equal": {
                                      "dataIn": {
                                        "string1": "=..generalInfo.value",
                                        "string2": "$var.name.data.isFavorite"
                                      }
                                    }
                                  },
                                  "https://public.aitmed.com/commonRes/providerOn.png",
                                  "https://public.aitmed.com/commonRes/providerOff.png"
                                ]
                              }
                            ]
                          }
                        }
                      },
                      {
                        "type": "label",
                        "dataKey": "itemObject.name.data.fullName",
                        "onClick": [
                          {
                            "actionType": "updateObject",
                            "dataKey": "Global.DocReference.document",
                            "dataObject": "itemObject"
                          },
                          {
                            "goto": "ContactInformation"
                          }
                        ],
                        "style": {
                          "top": "0",
                          "left": "0.15",
                          "height": "0.1",
                          "width": "0.3",
                          "fontStyle": "bold",
                          "textAlign": {
                            "y": "center"
                          }
                        }
                      },
                      {
                        "type": "image",
                        "path": "rightYellowArrow.png",
                        "style": {
                          "left": "0.82",
                          "top": "0.03",
                          "height": "0.03",
                          "zIndex": 1000
                        },
                        "onClick": [
                          {
                            "goto": "ContactInformation"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  }
}
